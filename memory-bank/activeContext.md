# アクティブコンテキスト

## 現在の作業状況

### 最新の更新（2025/05/17 03:46）

#### 第3章の環境確認完了

1. 監視環境の構成確認
   - OpenTelemetry Collector設定
     * グRPC/HTTPレシーバー (4317/4318)
     * Prometheusエクスポーター (8889)
     * Jaegerエクスポーター設定済
   - Jaeger設定
     * UI: 16686ポート
     * OTLPレシーバー: 4317ポート
   - Prometheus設定
     * スクレイプ間隔: 15秒
     * ターゲット: otel-collectorとtodo-api
   - Grafana設定
     * ポート: 3001
     * 初期認証情報設定済

2. 実装ステップの整理
   a. Collector設定セッション
      - 設定ファイルの解説（15分）
        * レシーバー設定の説明
        * プロセッサー設定の説明
        * エクスポーター設定の説明
      - パイプライン設定の実装（30分）
        * トレースパイプラインの設定
        * メトリクスパイプラインの設定
      - 動作確認（15分）
        * ログ出力の確認
        * エクスポートの確認

   b. トレース可視化セッション
      - Jaeger UIの操作説明（15分）
        * UIの基本機能
        * トレース検索方法
        * トレース詳細の見方
      - トレース分析演習（30分）
        * サンプルリクエストの実行
        * トレースの確認と分析
        * スパンの詳細確認
      - 分析手法の実践（15分）
        * パフォーマンス分析
        * エラー分析
        * サービス依存関係の確認

   c. メトリクス収集セッション
      - Prometheus基礎（15分）
        * メトリクスの種類
        * クエリ言語の基本
        * スクレイプの仕組み
      - クエリ作成演習（30分）
        * 基本的なクエリ作成
        * メトリクス集計方法
        * グラフ表示の確認
      - アラート設定（15分）
        * アラートルールの作成
        * 閾値の設定
        * 通知設定の確認

   d. ダッシュボード作成セッション
      - Grafana基礎（15分）
        * UI操作方法
        * データソース設定
        * パネルの種類
      - ダッシュボード作成（30分）
        * メトリクスの可視化
        * パネルの配置
        * 閾値とアラートの設定
      - 運用準備（15分）
        * ダッシュボードの共有
        * バックアップ方法
        * 更新方法の確認

3. トラブルシューティングポイント
   - Collector接続エラー
     * ポート番号の確認
     * TLS設定の確認
     * ログレベルの調整
   - トレース欠損
     * サンプリング設定の確認
     * バッファサイズの調整
     * エクスポート設定の確認
   - メトリクス収集エラー
     * スクレイプ設定の確認
     * ターゲットの状態確認
     * メトリクス名の確認

### 前回の更新（2025/05/17 03:40）

#### 第2章完了と第3章準備状況

1. 第2章の完了状況
   - 学習目標の達成
     * ActivitySourceとトレースの実装を理解完了
     * メトリクスの適切な使用方法を習得
     * 構造化ログの実装と設計を完了
   - フィードバック
     * 学習レポートの提出完了
     * コードレビューの完了
     * 理解度の確認完了

2. 第3章への準備状況
   - 技術的準備
     * Docker環境でのツール設定完了
     * 設定ファイルのテンプレート準備完了
     * デバッグ手順の文書化完了
   - 学習準備
     * 観測環境構築の基礎知識を整備
     * 必要なツール群の設定方法を文書化
     * トラブルシューティング手順を確立
   - 環境確認
     * Collector設定の検証
     * Jaeger/Prometheusの動作確認
     * Grafanaダッシュボードのテンプレート準備

1. セッション構成の最適化
   - SDK導入（60分）
     - 目標設定と説明（15分）
     - 実装時間（30分）
     - 振り返り（15分）
   - トレース実装（60分）
     - 目標設定と説明（15分）
     - 実装時間（30分）
     - 振り返り（15分）
   - メトリクス実装（60分）
     - 目標設定と説明（15分）
     - 実装時間（30分）
     - 振り返り（15分）
   - ログ連携（60分）
     - 目標設定と説明（15分）
     - 実装時間（30分）
     - 振り返り（15分）

2. フィードバックサイクルの確立
   a. セッション開始時（15分）
      - 前回の振り返り確認
      - 理解度自己評価（5段階）
      - 学習目標の設定
      - 質問・懸念点の共有

   b. 実装中（30分）
      - 実装手順の確認
      - 困った点の記録
      - 解決方法の記録
      - 時間計測

   c. セッション終了時（15分）
      - 章別フィードバックフォーム記入
      - 実装コードのレビュー
      - 学んだ点の共有
      - 次回への課題設定

   d. 週次フィードバック
      - 進捗レポートの作成
      - 技術的課題の整理
      - 追加サポートの検討
      - 改善点の特定

3. 柴田さんとの実践的な実装セッション
   - 画面共有による実装プロセスの確認
   - 実装結果の一緒の確認と討議
   - コードレビューを通じた学習促進
   - 実装時の疑問点をその場で解消
   - 具体的な実装理由の共有

4. 理解度の深化
   - 各実装ステップでの動作確認
   - 実装の意図と効果の説明
   - 公式ドキュメントを参照しながらの理解促進
   - 実務での活用シーンの共有

### 各章のハンズオン実施方針

#### 第1章：環境構築とTodoアプリの基本実装
1. セッション構成
   - 開発環境の構築（60分）
     * VS Code、Docker環境の確認
     * Dev Container環境の構築
     * 動作確認
   - WebAPI実装（60分）
     * プロジェクト作成
     * APIエンドポイント実装
     * データベース連携
   - フロントエンド実装（60分）
     * Reactプロジェクト設定
     * コンポーネント実装
     * API連携

2. 実施のポイント
   - 環境設定の丁寧なサポート
   - エラー時の原因特定と解決
   - 基本的な開発フローの確認

#### 第2章：OpenTelemetryの導入
1. セッション構成
   - SDK導入（60分）
     * パッケージのインストール
     * 基本設定の実装
     * 動作確認
   - トレース実装（60分）
     * ActivitySourceの設定
     * カスタムSpanの実装
     * エラーハンドリング
   - メトリクス実装（60分）
     * メーターの設定
     * カウンター実装
     * ヒストグラム実装
   - ログ連携（60分）
     * 構造化ログの設定
     * トレースIDの連携
     * エラー情報の記録

2. 実施のポイント
   - 実装意図の明確な説明
   - コードレビューを通じた学習
   - 動作確認の重視

#### 第3章：観測環境の構築
1. セッション構成
   - Collector設定（60分）
     * 設定ファイルの解説
     * パイプラインの設定
     * 動作確認
   - トレース可視化（60分）
     * Jaegerの設定
     * UI操作の説明
     * トレース分析演習
   - メトリクス収集（60分）
     * Prometheusの設定
     * クエリの作成
     * アラートルール設定
   - ダッシュボード作成（60分）
     * Grafanaの基本設定
     * パネルの作成
     * ダッシュボードの共有

2. 実施のポイント
   - 各ツールの役割の理解
   - 実践的な運用シナリオの共有
   - トラブルシューティングスキルの習得

#### 第4章：高度な機能と運用
1. セッション構成
   - サンプリング最適化（60分）
     * 戦略の検討
     * 設定の実装
     * 効果の確認
   - カスタムメトリクス（60分）
     * 要件の分析
     * 実装と集計
     * 可視化の工夫
   - エラー検知（60分）
     * 検知ルールの設定
     * アラート通知の実装
     * エスカレーション設定
   - パフォーマンス分析（60分）
     * ボトルネックの特定
     * 改善策の実装
     * 効果測定

2. 実施のポイント
   - 運用視点での考察
   - パフォーマンスへの影響考慮
   - セキュリティ面の注意点

2. フィードバック体制の確立
   - 週次フィードバック：毎週水曜日に実施
   - 章完了時フィードバック：各章の完了後に実施
   - 最終評価：6/11に実施予定

3. 現在の作業
   - 第1章：環境構築とTodoアプリの基本実装
     1. 開発環境のセットアップ
        - VS Code + 必要な拡張機能のインストール確認
        - Docker Desktopの動作確認
        - Dev Container環境の構築手順の確認
     2. アプリケーション実装
        - WebAPI（.NET 6）の実装
        - データベース（PostgreSQL）の設定
        - フロントエンドの動作確認
     3. 動作確認項目
        - APIエンドポイントの疎通確認
        - SwaggerUIでのAPIテスト
        - データベース接続の確認

4. フィードバック計画
   - 5/15（水）：第1回週次フィードバック
     - 環境構築の完了確認
     - 実装上の課題の確認
     - 次のステップの確認
   - 章完了時：理解度確認
     - APIの基本実装の理解
     - DBアクセスの実装理解
     - Docker環境の理解

### 直前の更新（2025/05/14 13:10）

#### 第3章の内容改善計画完了
1. 基本機能と高度な機能の分離 ✅
   - 基本機能の明確化
   - 高度な機能の第4章への移動
   - コンテンツの再構成

2. 学習フローの再構築 ✅
   - 可観測性の基本概念理解
   - 基本的な監視環境の構築
   - 基本的なトレース収集と可視化
   - 基本的なメトリクス収集と可視化

3. 実装手順の簡潔化 ✅
   - 基本設定への焦点化
   - 具体的なユースケース例の整理
   - トラブルシューティングポイントの明確化

## 実装状態

### サンプルアプリケーション
- WebAPI（.NET 6）: ✅完了
- フロントエンド（React）: ✅完了
- データベース（PostgreSQL）: ✅完了
- OpenTelemetry統合: ✅完了
- 監視環境（Collector, Jaeger, Grafana）: ✅完了

### 教材コンテンツ
- 第1章: ✅完了
- 第2章: ✅完了
- 第3章: ✅改善完了
- 第4章: ✅完了
- 教師用プロンプト: ✅完了

## 次のステップ

1. ベータハンズオン準備の完了
   - 学習者選定プロセスの確立
   - フィードバック収集の体制構築
   - 進捗管理体制の整備

2. ハンズオン実施計画の策定
   - スケジュール案の作成
   - 実施環境の最終確認
   - サポート体制の確立

3. フィードバックサイクルの確立
   - フィードバック収集方法の確定
   - 分析プロセスの設計
   - 改善サイクルの計画

## 技術的な注意点

### ハンズオン実施における確認ポイント

1. 環境構築
   - Dev Container環境の動作確認
   - 依存関係の適切な解決
   - ネットワーク設定の確認

2. アプリケーション動作
   - APIエンドポイントの疎通確認
   - フロントエンドの表示確認
   - データベース接続の確認

3. 監視環境
   - OpenTelemetry Collectorの設定確認
   - トレース収集の動作確認
   - メトリクス収集の動作確認
   - ダッシュボードの表示確認
