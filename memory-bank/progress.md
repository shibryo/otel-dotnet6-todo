# 進捗管理

## 全体の進捗状況

### フェーズ1：教材準備（90%完了）

#### 1. サンプルアプリケーション実装

##### 第1章: 環境構築とTodoアプリの基本実装
- [x] プロジェクト構造の作成
- [x] Memory Bankの設定
- [x] Dev Container環境の構築
- [x] .NET 6 WebAPIプロジェクトの作成
- [x] Entity Framework Coreの設定
- [x] PostgreSQLの設定
- [x] データベースマイグレーションの実行
- [x] Reactフロントエンドの作成

##### 第2章: OpenTelemetryの導入
- [x] OpenTelemetry SDKの統合
  - [x] NuGetパッケージのインストール
  - [x] SDK初期化コードの実装
  - [x] 基本設定の構成
- [x] 自動計装の設定
  - [x] ASP.NET Core の自動計装
  - [x] Entity Framework Core の自動計装
  - [x] HTTP クライアントの自動計装
- [x] カスタムSpanの実装
  - [x] Todo操作のカスタムSpan
  - [x] ビジネスロジックのトレーシング
  - [x] エラーハンドリングの計装
- [x] メトリクスとログの追加
  - [x] Todo操作のメトリクス定義
  - [x] パフォーマンスメトリクスの設定
  - [x] 構造化ログの実装

##### 第3章: 観測環境の構築
- [x] OpenTelemetry Collectorの設定
- [x] Jaegerの統合
- [x] Grafanaのダッシュボード設定
- [x] 分散トレーシングの確認

##### 第4章: 高度な機能と運用
- [x] Sampling設定の最適化
  - [x] 環境別サンプリング率の設定
  - [x] 重要エンドポイントの常時サンプリング
  - [x] エラー発生時の自動サンプリング
- [x] カスタムメトリクスの追加
  - [x] APIレスポンスタイムの計測
  - [x] エラー発生率の追跡
  - [x] 優先度別の操作カウント
- [x] エラー処理の改善
  - [x] エラー種別の詳細な記録
  - [x] エラーメトリクスの収集
  - [x] エラー時の自動トレース
- [x] パフォーマンス分析
  - [x] レスポンスタイムの監視
  - [x] データベース操作の追跡
  - [x] エラー発生箇所の特定

#### 2. 学習テキスト作成
- [x] 第1章: 環境構築とTodoアプリの基本実装
  - [x] 環境構築手順の解説
  - [x] アプリケーション実装の解説
  - [x] 動作確認手順の解説
  - [x] トラブルシューティングガイド
- [x] 第2章: OpenTelemetryの導入
  - [x] OpenTelemetryの基礎概念解説
  - [x] SDKインストールと設定手順
  - [x] 自動計装の設定手順
  - [x] カスタム計装の実装手順
  - [x] メトリクスとログの設定手順
  - [x] トラブルシューティングガイド
- [x] 第3章: 観測環境の構築
  - [x] 基本的な可観測性環境の構築手順
  - [x] Collectorの基本設定と連携方法
  - [x] 基本的なトレース可視化（Jaeger）
  - [x] 基本的なメトリクス収集（Prometheus）
  - [x] 基本的なダッシュボード作成（Grafana）

- [x] 第4章: 高度な機能と運用
  - [x] 高度なサンプリング設定の実装方法
  - [x] カスタムメトリクスとアラート設定
  - [x] エラー検出と分析手法
  - [x] パフォーマンスモニタリングと最適化

#### 3. 教師用プロンプト作成
- [x] レビュー基準の策定
  - [x] 第1章のレビュー基準
  - [x] 第2章のレビュー基準
  - [x] 第3章のレビュー基準
  - [x] 第4章のレビュー基準
- [x] よくある質問への回答テンプレート
  - [x] 第1章のFAQ
  - [x] 第2章のFAQ
  - [x] 第3章のFAQ
  - [x] 第4章のFAQ
- [x] 実装アドバイステンプレート
  - [x] 第1章の実装アドバイス
  - [x] 第2章の実装アドバイス
  - [x] 第3章の実装アドバイス
  - [x] 第4章の実装アドバイス
- [x] 理解度確認質問リスト
  - [x] 第1章の理解度確認問題
  - [x] 第2章の理解度確認問題
  - [x] 第3章の理解度確認問題
  - [x] 第4章の理解度確認問題

### フェーズ2：ハンズオン実施
- [x] ハンズオン環境の最終確認完了
  - 全コンテナの動作確認
  - APIエンドポイントのテスト完了
  - フロントエンドの動作確認
  - データベース連携の確認
- [x] ベータハンズオン開始
  - 学習者：柴田さん
  - 期間：5/14-6/11（4週間）
  - 第1章：環境構築開始

## 現在の作業

### アクティブタスク

1. 第3章実施計画の確定（完了）
   - [x] セッション構成の確定
     * Collector設定（60分）
     * トレース可視化（60分）
     * メトリクス監視（60分）
     * Grafanaダッシュボード（60分）
   - [x] 各セッションの詳細計画
     * タイムライン確定
     * 演習内容確定
     * 確認ポイント設定
   - [x] 実施準備完了
     * 環境動作確認済
     * 演習用データ準備済
     * トラブルシューティング手順整備済

2. 第3章実施フェーズ開始準備
   - [x] 環境構築の確認
     - [x] Collector設定の検証
     - [x] Jaeger/Prometheusの動作確認
     - [x] Grafanaダッシュボードの準備
   - [x] 学習内容の準備
     - [x] 基本概念の説明資料
     - [x] 実装手順の整理
     - [x] トラブルシューティングガイド
   - [x] セッション計画の確定
     - [x] 時間配分の決定
     - [x] 演習内容の確定
     - [x] 評価基準の設定

3. 学習テキストの最終調整
   - [x] 第3章の内容改善
     - [x] 高度な機能の基本機能への分離
     - [x] 説明の簡潔化と明確化
     - [x] 実装手順の見直し
   - [x] 第4章の内容構成
     - [x] 高度な機能の体系的な整理
     - [x] 実装例の選定と解説
     - [x] 段階的な学習パスの設計
   - [x] 第4章の詳細コンテンツ作成
     - [x] 01_sampling_optimization.md
     - [x] 02_advanced_metrics.md
     - [x] 03_error_detection.md
     - [x] 04_performance_analysis.md

2. ベータハンズオン準備
   - [ ] 学習者の選定
     - [ ] 選定基準の作成
     - [ ] 候補者リストの作成
     - [ ] スケジュール調整
   - [ ] フィードバック収集の準備
     - [ ] フィードバックフォームの作成
     - [ ] 評価基準の設定
     - [ ] 改善点の記録方法の確立
   - [ ] 進捗管理の準備
     - [ ] 進捗管理シートの作成
     - [ ] チェックポイントの設定
     - [ ] サポート体制の確立

## 課題管理

### 未解決の課題

1. 第2章ハンズオン実施計画
   a. セッション1：SDK導入と基本設定
      - パッケージ選択と導入手順の説明（15分）
      - 画面共有しながらの実装（30分）
        * NuGetパッケージのインストール
        * Program.csでの基本設定
        * 実装過程での質疑応答
      - 実装結果の確認と討議（15分）
        * 設定内容の確認
        * 動作確認と検証
        * 実装時の気づきの共有

   b. セッション2：トレース実装
      - ActivitySource概念と実装方法の説明（15分）
      - ペアプログラミング形式での実装（30分）
        * CRUDエンドポイントの計装
        * エラーハンドリングの実装
        * リアルタイムでのコードレビュー
      - 実装結果の検証と改善（15分）
        * トレースの可視化確認
        * 改善点の特定と修正

   c. セッション3：メトリクス実装
      - メトリクス設計の説明と討議（15分）
      - 実装プロセスの共有（30分）
        * カウンターとヒストグラムの実装
        * 測定値の収集と確認
        * パフォーマンス影響の検証
      - 収集データの分析と評価（15分）
        * メトリクスの有効性確認
        * 追加設定の検討

   d. セッション4：ログ連携
      - ログ設計とトレース連携の説明（15分）
      - ペア実装とレビュー（30分）
        * 構造化ログの実装
        * トレースIDの関連付け
        * エラー情報の記録
      - 総合動作確認と振り返り（15分）
        * 全機能の連携確認
        * 学習内容の総括

2. セッション実施の基本方針
   - 常に画面共有での実装
   - 実装中の対話を重視
   - その場でのコードレビュー
   - 実装結果の即時フィードバック

3. 第2章セッション1の準備タスク
   a. 環境の確認
      - [ ] Dev Container環境の動作確認
      - [ ] VS Code拡張の動作確認
      - [ ] 画面共有ツールのテスト

   b. 資料の準備
      - [ ] OpenTelemetry .NET公式ドキュメントの該当箇所の確認
      - [ ] 実装手順のチェックリスト作成
      - [ ] トラブルシューティングガイドの準備

   c. 事前準備
      - [ ] 柴田さんとのスケジュール確定
      - [ ] セッション時の画面共有方法の確認
      - [ ] バックアップ用のサンプルコードの準備

   d. レビュー準備
      - [ ] コードレビューのポイントリスト作成
      - [ ] 想定される質問への回答準備
      - [ ] 実装結果の確認項目リスト作成

### 解決済みの課題

1. プロジェクト構造の設計
   - 解決日: 2025/4/25
   - 対応: ディレクトリ構造の作成とMemory Bankの設定

2. Dev Container環境の構築
   - 解決日: 2025/4/25
   - 対応: Dockerfile、Docker Compose、PostgreSQLの設定完了

3. バックエンド開発環境の整備
   - 解決日: 2025/4/25
   - 対応: WebAPI、データベース接続、マイグレーションの完了

4. 教師用プロンプトの設計方針
   - 解決日: 2025/4/25
   - 対応: 全章のレビュー基準、実装アドバイス、FAQの完成

## マイルストーン

### マイルストーン1: サンプルアプリケーション実装と教材準備

- 目標期限: なし
- ステータス: 進行中（90%完了）
- 達成条件:
  - サンプル実装
    - ✅第1章の実装完了
    - ✅第2章の実装完了
    - ✅第3章の実装完了
    - ✅第4章の実装完了
  - 教材作成
    - [ ] 全章のテキスト完成
    - ✅教師用プロンプト完成
    - ✅レビュー基準の確立

### マイルストーン2: ベータハンズオン実施（n=1）

- 目標期限: なし
- ステータス: 未着手
- 達成条件:
  - [ ] 単一学習者とのハンズオン完了
  - [ ] フィードバック収集と分析
  - [ ] 教材とプロンプトの改善
  - [ ] 実施結果の評価

### マイルストーン3: メジャーリリースハンズオン実施（n>1）

- 目標期限: なし
- ステータス: 未着手
- 達成条件:
  - [ ] 複数学習者とのハンズオン実施
  - [ ] 進捗管理とサポート体制の確立
  - [ ] フィードバック収集と継続的改善
  - [ ] 成果の評価と文書化

## 品質管理

### コードレビュー基準

- コーディング規約の遵守
- テストコードの整備
- ドキュメントの更新
- エラーハンドリングの実装

### テスト対象

- ✅APIエンドポイント
- ✅データベース操作
- ✅フロントエンドの操作
- ✅OpenTelemetry計装
- ✅監視システム連携

## 学習の進捗

### 完了した学習項目

- プロジェクトの基本構造
- Dev Containerの設定
- Entity Framework Coreの基本設定
- データベースマイグレーション
- フロントエンド開発環境のセットアップ
- APIクライアントの実装
- OpenTelemetryの基本実装
- 監視環境の構築
- パフォーマンス最適化

### 今後の学習項目

- OpenTelemetryコネクタの拡張
- カスタムエクスポーターの実装
- 大規模システムでのトレース戦略
- アラート設定とインシデント管理
- パフォーマンスチューニング手法

# 進捗状況

## 2025-05-18
### OpenTelemetryとJaegerの設定
- OpenTelemetry SDKの実装
  - TodoApiにOpenTelemetry NuGetパッケージを追加
  - トレース設定の実装（ASP.NET Core, EF Core, HTTPクライアントの自動計装）
  - OTLPエクスポーターの設定（gRPCプロトコル使用）

- OpenTelemetry Collectorの設定
  - OTLPレシーバーの設定（gRPCとHTTP）
  - JaegerエクスポーターとPrometheusエクスポーターの設定
  - バッチプロセッサーの設定

### 現状の課題
1. トレース転送の問題
   - otel-collectorはエラーなく起動
   - トレースデータがJaegerに届いていない
   - JaegerとCollectorの接続設定に問題の可能性

2. 次回の検討事項
   - JaegerのgRPCポート設定の見直し
   - Collector-Jaeger間の接続方式の再検討
   - TodoApiからのトレース送信の検証方法の確立
